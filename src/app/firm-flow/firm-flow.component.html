<div class="firm-flow-container">
  <h2>Firm Flow</h2>

  <div class="top-bar">
    <saf-button appearance="primary" class="add-button">
      <saf-icon slot="start" icon-name="add"></saf-icon>
      Add
    </saf-button>
  </div>

  <div class="action-bar">
    <div class="action-buttons">
      <saf-button appearance="tertiary">
        <saf-icon slot="start" icon-name="pencil"></saf-icon>
        Edit
      </saf-button>
      <saf-button appearance="tertiary">
        <saf-icon slot="start" icon-name="arrow-up"></saf-icon>
        Move up
      </saf-button>
      <saf-button appearance="tertiary">
        <saf-icon slot="start" icon-name="arrow-down"></saf-icon>
        Move down
      </saf-button>
      <saf-button appearance="tertiary">
        <saf-icon slot="start" icon-name="trash-can"></saf-icon>
        Delete
      </saf-button>
    </div>
    <div class="pagination-info">Showing 1 to 10 of 500</div>
  </div>

  <wj-flex-grid
    #grid
    [itemsSource]="view"
    [showMarquee]="true"
    [isReadOnly]="false"
    [selectionMode]="'CellRange'"
    [anchorCursor]="true"
    (initialized)="initGrid(grid)"
    headersFocusability="All"
    headersVisibility="All"
    class="wj-flexsheet saf-flexgrid--compact firm-flow-grid"
  >
    <wj-flex-grid-column header="Level" binding="level" [width]="'*'" />

    <wj-flex-grid-column
      header="Field name"
      binding="fieldName"
      [width]="'*'"
    />

    <wj-flex-grid-column
      header="Field type"
      binding="fieldType"
      [width]="'*'"
    />

    <wj-flex-grid-column header="Format" binding="format" [width]="'*'" />

    <wj-flex-grid-column
      header="Field width"
      binding="fieldWidth"
      [width]="'*'"
    />

    <wj-flex-grid-column
      header="Max characters"
      binding="maxCharacters"
      [width]="'*'"
    />

    <wj-flex-grid-column
      header="Required field"
      binding="requiredField"
      [width]="'*'"
    />

    <wj-flex-grid-column
      header="Deactivate"
      binding="deactivate"
      [width]="'*'"
    />
  </wj-flex-grid>

  <saf-dialog
    [hidden]="isManageDropdownDialogHidden"
    (dismiss)="closeManageDropdownDialog()"
    (cancel)="closeManageDropdownDialog()"
    (close)="closeManageDropdownDialog()"
    modal="true"
    is-alert="false"
    is-header="true"
    is-footer="true"
    dialog-title="Edit field type"
  >
    <div class="manage-dropdown-content">
      <!-- Add Value section -->
      <div class="add-value-section">
        <saf-select
          label="Field type"
          required
          name="selectValue"
          (change)="onFieldTypeChange($event)"
        >
          <saf-option value="text">Text</saf-option>
          <saf-option value="date">Date</saf-option>
          <saf-option value="dropdown">Dropdown</saf-option>
          <saf-option value="user-dropdown">User dropdown</saf-option>
        </saf-select>
      </div>

      <div *ngIf="fieldType === 'dropdown'" class="manage-dropdown-content">
        <saf-text appearance="heading-lg">Manage dropdown values</saf-text>

        <saf-button-embedded>
          <saf-text-field
            label="Add value"
            name="value"
            required
          ></saf-text-field>
          <saf-button icon-only appearance="secondary">
            <saf-icon icon-name="add" appearance="solid"></saf-icon>
          </saf-button>
        </saf-button-embedded>
        <div class="checkbox-sort-section">
          <saf-text appearance="heading-md">Dropdown values</saf-text>
          <saf-checkbox label="Checkbox text label">Select all</saf-checkbox>
        </div>

        <!-- Field types list -->
        <div class="field-types-box"></div>

        <!-- Bottom buttons -->
        <div class="bottom-buttons">
          <saf-button appearance="secondary" disabled>
            <saf-icon slot="start" icon-name="arrow-up"></saf-icon>
            Move up
          </saf-button>
          <saf-button appearance="secondary" disabled>
            <saf-icon slot="start" icon-name="arrow-down"></saf-icon>
            Move down
          </saf-button>
          <saf-button appearance="secondary" disabled>
            <saf-icon slot="start" icon-name="trash-can"></saf-icon>
            Delete
          </saf-button>
        </div>

        <div class="sort-by-group">
          <saf-radio-group label="Sort by" name="sortBy" value="a-to-z">
            <saf-radio value="a-to-z" [checked]="true">A to Z</saf-radio>
            <saf-radio value="custom">Custom</saf-radio>
          </saf-radio-group>
        </div>
      </div>
    </div>

    <div slot="footer" class="dialog-footer">
      <saf-button appearance="secondary" (click)="closeManageDropdownDialog()"
        >Cancel</saf-button
      >
      <saf-button appearance="primary">Save</saf-button>
    </div>
  </saf-dialog>
</div>
