<h2>Accessible Editing</h2>

<p>
  <saf-button (click)="showModal()">Add client</saf-button>
</p>

<saf-dialog id="overview" class="clients-list-dialog" modal="true" [hidden]="isModalHidden" is-alert="false"
  is-header="true" is-footer="true" no-focus-trap="true" dialog-title="Add clients to index" dialog-subtitle="Select a checkbox to add client name and number to an index, or clear
    checkbox to remove from an index. Then select Save.">
  <saf-dialog class="clients-delete-dialog" [hidden]="isDeleteDialogHidden" dialog-title="Delete clients">
    <p>Are you sure you want to delete {{ selectedItems }}?</p>
    <div style="
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        width: 100%;
        margin: 20px 0;
      ">
      <saf-button appearance="secondary" (click)="closeDeleteDialog()">No</saf-button>
      <saf-button appearance="primary" (click)="confirmDeletion()">Yes</saf-button>
    </div>
  </saf-dialog>

  <saf-alert [appearance]="alertAppearance" [duration]="0" alert-type="inline" [attr.is-hidden]="isAlertHidden">
    {{ alertMessage }}
  </saf-alert>

  <p class="tools">
    <saf-button appearance="tertiary" (click)="addClient()">
      <saf-icon slot="start" icon-name="add"></saf-icon>
      Create new</saf-button>
    <saf-button appearance="tertiary" [disabled]="isDeleteButtonDisabled" (click)="deleteClients()"><saf-icon
        slot="start" icon-name="trash-can"></saf-icon>Delete</saf-button>
    <saf-text class="selected-items-text" appearance="body-default-sm">{{
      selectedItems
      }}</saf-text>
  </p>

  <wj-flex-grid #grid [itemsSource]="data" [showMarquee]="true" [isReadOnly]="false" [selectionMode]="'CellRange'"
    [anchorCursor]="true" (initialized)="initGrid(grid)" (cellEditStarting)="onCellEditStarting($event)"
    headersFocusability="All" headersVisibility="All" aria-labelledby="tableHeader-toolbar"
    aria-describedby="tableDescription-toolbar" data-testid="table-toolbar" style="margin-top: 16px"
    class="wj-flexsheet saf-flexgrid--compact">
    <!-- <wj-flex-grid-column [selector]="true" [width]="40"></wj-flex-grid-column> -->

    <wj-flex-grid-column header="Client Name" binding="clientName" [width]="'*'" />

    <wj-flex-grid-column header="Client number" binding="clientNumber" width="*">
      <ng-template wjFlexGridCellTemplate [cellType]="'Cell'" let-item="item">
        {{ item.clientNumber }}
      </ng-template>
    </wj-flex-grid-column>
  </wj-flex-grid>

  <div slot="footer" style="display: flex; gap: 12px; justify-content: flex-end; width: 100%">
    <saf-button appearance="secondary" [disabled]="isCancelButtonDisabled">Cancel</saf-button>
    <saf-button appearance="primary" [disabled]="isSaveButtonDisabled" (click)="saveClient(grid)">Save</saf-button>
  </div>
</saf-dialog>